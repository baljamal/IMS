include "menuYesNo.dbd"

menu(motorAble) {
	choice(motorAble_Disable,       "Disable"          )
	choice(motorAble_Enable,        "Enable"           )
}
menu(motorLM) {
	choice(motorLM_Invalid,         "Invalid"          )
	choice(motorLM_DecelHome,       "Decel, Home"      )
	choice(motorLM_Decel,           "Decel"            )
	choice(motorLM_DecelStopProg,   "Decel, StopProg"  )
	choice(motorLM_NoDecelHome,     "NoDecel, Home"    )
	choice(motorLM_NoDecel,         "NoDecel"          )
	choice(motorLM_NoDecelStopProg, "NoDecel, StopProg")
}
menu(motorSM) {
	choice(motorSM_Stop,            "Stop on stall"    )
	choice(motorSM_NoStop,          "No stop"          )
}
menu(motorDIR) {
	choice(motorDIR_Positive,       "Positive"         )
	choice(motorDIR_Negative,       "Negative"         )
}
menu(motorOFF) {
	choice(motorOFF_Variable,       "Variable"         )
	choice(motorOFF_Freeze,         "Freeze"           )
}
menu(motorSET) {
	choice(motorSET_Use,            "Use"              )
	choice(motorSET_Set,            "Set"              )
}
menu(motorSPG) {
	choice(motorSPG_Stop,           "Stop"             )
	choice(motorSPG_Pause,          "Pause"            )
	choice(motorSPG_Go,             "Go"               )
}
menu(motorHMTP) {
        choice(motorHMTP_Encoder,       "Encoder"          )
        choice(motorHMTP_Switch,        "Switch"           )
}

recordtype(ims) {
	include "dbCommon.dbd" 
	field(VERS,DBF_FLOAT) {
		prompt("Code Version")
		special(SPC_NOMOD)
		initial("1")
	}
	field(PORT,DBF_STRING) {
		prompt("Serial Port")
		size(61)
		interest(1)
	}
	field(ASYN,DBF_STRING) {
		prompt("Asyn Tag")
		size(61)
		special(SPC_NOMOD)
		interest(1)
	}
	field(PN,DBF_STRING) {
		prompt("Part Number")
		size(61)
		special(SPC_NOMOD)
		interest(1)
	}
	field(SN,DBF_STRING) {
		prompt("Serial Number")
		size(61)
		special(SPC_NOMOD)
		interest(1)
	}
	field(S1,DBF_STRING) {
		prompt("S1 Setting")
		promptgroup(GUI_COMMON)
		size(61)
		special(SPC_MOD)
		asl(ASL0)
		interest(1)
	}
	field(S2,DBF_STRING) {
		prompt("S2 Setting")
		promptgroup(GUI_COMMON)
		size(61)
		special(SPC_MOD)
		asl(ASL0)
		interest(1)
	}
	field(S3,DBF_STRING) {
		prompt("S3 Setting")
		promptgroup(GUI_COMMON)
		size(61)
		special(SPC_MOD)
		asl(ASL0)
		interest(1)
	}
	field(NE,DBF_MENU) {
		prompt("Numeric Enable")
		promptgroup(GUI_COMMON)
		menu(motorAble)
		special(SPC_MOD)
		asl(ASL0)
		interest(1)
	}
	field(EE,DBF_MENU) {
		prompt("Encoder Enable")
		promptgroup(GUI_COMMON)
		menu(motorAble)
		special(SPC_MOD)
		asl(ASL0)
		interest(1)
	}
	field(LM,DBF_MENU) {
		prompt("Limit Stop Mode")
		promptgroup(GUI_COMMON)
		menu(motorLM)
		special(SPC_MOD)
		asl(ASL0)
		interest(1)
	}
	field(SM,DBF_MENU) {
		prompt("Stall Mode")
		promptgroup(GUI_COMMON)
		menu(motorSM)
		special(SPC_MOD)
		asl(ASL0)
		interest(1)
	}
	field(STSV,DBF_MENU) {
		prompt("Stall Severity")
		promptgroup(GUI_COMMON)
		menu(menuAlarmSevr)
		initial("NO_ALARM")
		interest(1)
	}
	field(HC,DBF_SHORT) {
		prompt("Holding Current")
		promptgroup(GUI_COMMON)
		special(SPC_MOD)
		asl(ASL0)
		initial(0)
		interest(1)
	}
	field(RC,DBF_SHORT) {
		prompt("Running Current")
		promptgroup(GUI_COMMON)
		special(SPC_MOD)
		asl(ASL0)
		initial(0)
		interest(1)
	}
	field(DE,DBF_MENU) {
		prompt("Torque Dis/Enable")
		promptgroup(GUI_COMMON)
		menu(motorAble)
		special(SPC_MOD)
		asl(ASL0)
	}
	field(MPGM,DBF_STRING) {
		prompt("Name of the MCode Program")
		size(61)
		special(SPC_NOMOD)
		interest(1)
	}
	field(DVER,DBF_USHORT) {
		prompt("Desired MCode Version")
		special(SPC_NOMOD)
		interest(1)
	}
	field(EGU,DBF_STRING) {
		prompt("Engineering Units")
		promptgroup(GUI_COMMON)
		size(16)
		interest(1)
	}
	field(ERES,DBF_DOUBLE) {
		prompt("Encoder Step Size (EGU)")
		promptgroup(GUI_COMMON)
		special(SPC_MOD)
		initial(1)
		interest(1)
	}
	field(SREV,DBF_LONG) {
		prompt("Steps Per Revolution")
		promptgroup(GUI_COMMON)
		special(SPC_MOD)
		initial(200)
		interest(1)
	}
	field(UREV,DBF_DOUBLE) {
		prompt("EGU's Per Revolution")
		promptgroup(GUI_COMMON)
		special(SPC_MOD)
		initial(1)
		interest(1)
	}
	field(MRES,DBF_DOUBLE) {
		prompt("Motor Step Size (EGU)")
		promptgroup(GUI_COMMON)
 		special(SPC_NOMOD)
		interest(1)
	}
	field(RES,DBF_DOUBLE) {
		prompt("Step Size (EGU)")
		special(SPC_NOMOD)
		interest(1)
	}
	field(DIR,DBF_MENU) {
		prompt("User Direction")
		promptgroup(GUI_COMMON)
		menu(motorDIR)
		special(SPC_MOD)
		initial("Positive")
		interest(1)
	}
	field(OFF,DBF_DOUBLE) {
		prompt("User Offset (EGU)")
		special(SPC_MOD)
		asl(ASL0)
	}
	field(FOFF,DBF_MENU) {
		prompt("Variable/Freeze Offset")
		promptgroup(GUI_COMMON)
		menu(motorOFF)
		initial("Variable")
		interest(1)
	}
	field(SET,DBF_MENU) {
		prompt("Set/Use Switch")
		menu(motorSET)
		special(SPC_MOD)
		asl(ASL0)
		interest(1)
	}
	field(HMTP,DBF_MENU) {
		prompt("Homing Type")
		promptgroup(GUI_COMMON)
		menu(motorHMTP)
		special(SPC_NOMOD)
		initial("Encoder")
		interest(1)
	}
	field(HMDR,DBF_MENU) {
		prompt("Homing Direction")
		promptgroup(GUI_COMMON)
		menu(motorDIR)
		initial("Positive")
		interest(1)
	}
	field(BDST,DBF_DOUBLE) {
		prompt("BL Distance (EGU)")
		promptgroup(GUI_COMMON)
		interest(1)
	}
	field(LLM,DBF_DOUBLE) {
		prompt("User Low Limit (EGU)")
		special(SPC_MOD)
	}
	field(HLM,DBF_DOUBLE) {
		prompt("User High Limit (EGU)")
		special(SPC_MOD)
	}
	field(DLLM,DBF_DOUBLE) {
		prompt("Dial Low Limit (EGU)")
		promptgroup(GUI_COMMON)
		special(SPC_MOD)
	}
	field(DHLM,DBF_DOUBLE) {
		prompt("Dial High Limit (EGU)")
		promptgroup(GUI_COMMON)
		special(SPC_MOD)
	}
	field(RDBD,DBF_DOUBLE) {
		prompt("Retry Deadband (EGU)")
		promptgroup(GUI_COMMON)
		initial(3)
		interest(1)
	}
	field(RTRY,DBF_SHORT) {
		prompt("Max No of Retries")
		promptgroup(GUI_COMMON)
		initial(3)
		interest(1)
	}
	field(RCNT,DBF_SHORT) {
		prompt("Retry Count")
		special(SPC_NOMOD)
		interest(2)
	}
	field(MISS,DBF_SHORT) {
		prompt("Hit or Miss")
		special(SPC_NOMOD)
		interest(2)
	}
	field(PDBD,DBF_DOUBLE) {
		prompt("Position Tolerance (EGU)")
		initial(1)
		interest(1)
	}
	field(PREC,DBF_SHORT) {
		prompt("Display Precision")
		promptgroup(GUI_COMMON)
		interest(1)
	}
	field(ACCL,DBF_DOUBLE) {
		prompt("Seconds to Velocity")
		promptgroup(GUI_COMMON)
		initial("0.2")
		interest(1)
	}
	field(VBAS,DBF_DOUBLE) {
		prompt("Base Velocity (EGU/s)")
		promptgroup(GUI_COMMON)
		special(SPC_MOD)
		interest(1)
	}
	field(VMAX,DBF_DOUBLE) {
		prompt("Max. Velocity (EGU/s)")
		promptgroup(GUI_COMMON)
		special(SPC_MOD)
		interest(1)
	}
	field(VELO,DBF_DOUBLE) {
		prompt("Velocity (EGU/s)")
		promptgroup(GUI_COMMON)
		special(SPC_MOD)
		interest(1)
	}
	field(SBAS,DBF_DOUBLE) {
		prompt("Base Speed (RPS)")
		promptgroup(GUI_COMMON)
		special(SPC_MOD)
		interest(1)
	}
	field(SMAX,DBF_DOUBLE) {
		prompt("Max. Speed (RPS)")
		promptgroup(GUI_COMMON)
		special(SPC_MOD)
		interest(1)
	}
	field(S,DBF_DOUBLE) {
		prompt("Speed (revolutions/sec)")
		promptgroup(GUI_COMMON)
		special(SPC_MOD)
		interest(1)
	}
	field(BACC,DBF_DOUBLE) {
		prompt("BL Seconds to Velocity")
		promptgroup(GUI_COMMON)
		initial("0.5")
		interest(1)
	}
	field(BBAS,DBF_DOUBLE) {
		prompt("BL Base Velocity (EGU/s)")
		promptgroup(GUI_COMMON)
		special(SPC_MOD)
		interest(1)
	}
	field(BVEL,DBF_DOUBLE) {
		prompt("BL Velocity (EGU/s)")
		promptgroup(GUI_COMMON)
		special(SPC_MOD)
		interest(1)
	}
	field(BS,DBF_DOUBLE) {
		prompt("BL Speed (RPS)")
		promptgroup(GUI_COMMON)
		special(SPC_MOD)
		interest(1)
	}
	field(HACC,DBF_DOUBLE) {
		prompt("Home Seconds to Velocity")
		promptgroup(GUI_COMMON)
		initial("0.5")
		interest(1)
	}
	field(HBAS,DBF_DOUBLE) {
		prompt("Home Base Velocity (EGU/s)")
		promptgroup(GUI_COMMON)
		special(SPC_MOD)
		interest(1)
	}
	field(HVEL,DBF_DOUBLE) {
		prompt("Home Velocity (EGU/s)")
		promptgroup(GUI_COMMON)
		special(SPC_MOD)
		interest(1)
	}
	field(ATHM,DBF_SHORT) {
		prompt("At HOME")
		special(SPC_NOMOD)
	}
	field(VAL,DBF_DOUBLE) {
		prompt("User Desired Value (EGU)")
		special(SPC_MOD)
		asl(ASL0)
	}
	field(DVAL,DBF_DOUBLE) {
		prompt("Dial Desired Value (EGU)")
		special(SPC_MOD)
		asl(ASL0)
	}
	field(RVAL,DBF_LONG) {
		prompt("Raw Desired Value (step)")
		special(SPC_NOMOD)
	}
	field(TWV,DBF_DOUBLE) {
		prompt("Tweak Step Size (EGU)")
		promptgroup(GUI_COMMON)
		asl(ASL0)
		interest(1)
	}
	field(TWF,DBF_SHORT) {
		prompt("Tweak Motor Forward")
		special(SPC_MOD)
		asl(ASL0)
	}
	field(TWR,DBF_SHORT) {
		prompt("Tweak Motor Reverse")
		special(SPC_MOD)
		asl(ASL0)
	}
	field(SPG,DBF_MENU) {
		prompt("Stop/Pause/Go")
		menu(motorSPG)
		special(SPC_MOD)
		asl(ASL0)
		initial(2)
		interest(1)
	}
	field(HOMF,DBF_SHORT) {
		prompt("Home Forward")
		special(SPC_MOD)
		interest(1)
	}
	field(HOMR,DBF_SHORT) {
		prompt("Home Reverse")
		special(SPC_MOD)
		interest(1)
	}
	field(MIP,DBF_USHORT) {
		prompt("Motion In Progress")
		special(SPC_NOMOD)
		interest(3)
	}
	field(MOVN,DBF_SHORT) {
		prompt("Moving or Not")
		special(SPC_NOMOD)
	}
	field(DMOV,DBF_SHORT) {
		prompt("Done Moving to Position")
		promptgroup(GUI_COMMON)
		special(SPC_NOMOD)
		initial(1)
	}
	field(RBV,DBF_DOUBLE) {
		prompt("User Readback Value")
		special(SPC_NOMOD)
	}
	field(DRBV,DBF_DOUBLE) {
		prompt("Dial Readback Value")
		special(SPC_NOMOD)
	}
	field(RRBV,DBF_LONG) {
		prompt("Raw Readback Value")
		special(SPC_NOMOD)
	}
	field(DIFF,DBF_DOUBLE) {
		prompt("Difference rbv-val")
		special(SPC_NOMOD)
	}
	field(LVIO,DBF_SHORT) {
		prompt("Limit Violation")
		special(SPC_NOMOD)
		initial(1)
	}
	field(LLS,DBF_SHORT) {
		prompt("User Low Limit Switch")
		special(SPC_NOMOD)
	}
	field(HLS,DBF_SHORT) {
		prompt("User High Limit Switch")
		special(SPC_NOMOD)
	}
	field(RLLS,DBF_SHORT) {
		prompt("Raw Low Limit Switch")
		special(SPC_NOMOD)
	}
	field(RHLS,DBF_SHORT) {
		prompt("Raw High Limit Switch")
		special(SPC_NOMOD)
	}
	field(HLSV,DBF_MENU) {
		prompt("HW Limit Violation Svr")
		promptgroup(GUI_COMMON)
		menu(menuAlarmSevr)
		interest(2)
	}
	field(MSTA,DBF_ULONG) {
		prompt("Motor Status")
		special(SPC_NOMOD)
		interest(3)
	}
	field(OVAL,DBF_DOUBLE) {
		prompt("Original Value")
		promptgroup(GUI_COMMON)
		special(SPC_NOMOD)
	}
	field(CMAP,DBF_ULONG) {
		prompt("Bit Map of Changed Field")
		promptgroup(GUI_COMMON)
		special(SPC_NOMOD)
		initial(0)
	}
	field(SSTR,DBF_STRING) {
		prompt("Status String")
		promptgroup(GUI_COMMON)
		size(61)
		special(SPC_MOD)
		asl(ASL0)
		pp(TRUE)
		interest(1)
	}
}

